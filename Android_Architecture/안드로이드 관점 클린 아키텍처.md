# 안드로이드 관점으로 쓰윽~ 바라본 로버트 마틴의 클린 아키텍처
## 로버트 마틴의 클린 아키텍처
![image](https://user-images.githubusercontent.com/66052467/184371120-5985e3a1-1c07-48ce-a08e-9e2eb9116b7d.png)
- SOLID 원칙을 잘 따른 모범 패턴
- 코드 종속성이 외부로부터 내부로 의존하는 것이 핵심
- 내부 계층의 코드는 외부 계층의 코드를 알 수 없으며 외부 계층에 존재하는 변수, 함수 및 클래스 등은 안쪽 계층에서 다시 등장할 수 없다.
- 데이터 형식도 계층 간에 별도로 유지하는 것이 좋다.
- 가운데 원은 가장 추상적인 영역으로 비즈니스 로직을 포함하고 사용 중인 플랫폼이나 프레임워크에 의존해선 안 된다.
- 안쪽 계층으로 진입할수록 추상화와 캡슐화 수준이 높아진다.
- 외부 원은 네트워크 및 데이터베이스의 접근처럼 플랫폼에 특정한 구체적인 구현 세부 사항이 포함된다.
- 내부 계층은 외부 계층을 알면 안 된다. 라는 규칙만 지키면 계층을 몇 개로, 어떻게 나누어도 상관없다.
- 계층을 분리하고 계층 간의 의존성을 단방향으로 만들기 때문에 코드의 재사용성이 용이해지고, 유닛 테스트가 쉬워진다.

### 4 - UI 계층 (Frameworks & Driver)
### 3 - Presenter 계층 (Interface Adapters)
### 2 - UseCases 계층(Application Business Rules)
### 1 - Entity 계층 (Enterprise Business Rules)

### Entities
- Entity 계층 (Enterprise Business Rules)
- 전사적 비즈니스 규칙을 캡슐화
- 데이터의 구조나 메서드를 포함하는 객체
- 전사적으로 많은 애플리케이션 사이에서 사용될 수 있음
- 외부에서 무언가 변경되었을 때 가장 최소한의 변경 사항을 가져야만 한다.
- 화면 이동, 보안과 관련된 내용이 변경되었을 때도 엔터티 계층은 영향을 받으면 안 된다.
- EX) 네트워크나 데이터베이스와 관련된 클래스 (POJO와 같은 데이터 클래스)
- 안드로이드 애플리케이션과 관련된 코드를 포함해선 안 된다.
- 순수 자바 또는 코틀린 코드일 때 유닛 테스트가 수월하다.

### Use Cases
- UseCases 계층(Application Business Rules)
- 애플리케이션과 관련된 비즈니스 규칙을 포함한다.
- 시스템의 모든 유즈 케이스 구현체들을 캡슐화 한다.
- 엔터티로부터의 데이터 흐름들을 관리하고, 유즈 케이스의 목적을 달성하도록 엔터티에 넓고 전사적인 비즈니스 규칙의 사용을 가르친다.
- 관심사를 분리하여 계층을 분리해 이 계층은 엔터티에 영향을 미치지 않고, UI나 프레임워크 같은 외부 계층에서도 영향을 받지 않는다.
- EX) Model, Repository, Executor 등과 관련된 내용
  - Model
    - 데이터베이스의 쿼리나 네트워크 요청 등의 비즈니스 로직을 수행
  - Repository
    - 내부 DB에 접근하거나 저장 또는 원격 서버의 데이터를 요청하는 역할
    - 일반적으로 인터페이스이며 인터페이스를 구현하여 외부 계층의 연결을 느슨하게 한다.
  - Executor
    - Repository나 Model과 관련된 작업이 백그라운드에서 작업을 수행할 수 있도록 작업 스레드를 관리하고 제공

### Presenters
- Presenter 계층 (Interface Adapters)
- 유즈 케이스나 엔터티로부터 얻은 데이터를 가공하는 계층
- 비즈니스 로직을 수행하여 원하는 결과값을 얻어 UI에 표현하려고 적당한 형식으로 데이터를 변경한다.
- EX) Presenter, View, ViewModel, Controller (아키텍처 디자인 패턴 관점)
- 반대로 UI로부터 얻은 데이터를 내부 DB나 원격 서버에 전송할 때도 이 계층에서 데이터를 가공하여 전달
- 목적 : 비즈니스 로직과 프레임워크 코드를 자연스럽게 연결

### UI
- UI 계층 (Frameworks & Driver)
- 가장 바깥 계층
- EX) Activity, Fragment, Intent, Database, ContentProvider, Retrofit 등의 네트워크 프레임워크 코드
